<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TED-SWS User manual :: ted-sws-docs</title>
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../_/css/site.css">
    <script>var uiRootPath = '../_'</script>
  </head>
  <body class="article">
<div class="navbar-item has-dropdown is-hoverable">
<h1>TED-SWS</h1>
</div><div class="body">
<div class="nav-container" data-component="rdf-conversion" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="index.html">XML to RDF Conversion</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="index.html">Home</a>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-text"><a href="_attachments/ted-sws-architecture/index.html" target="_blank" rel="noopener">Preliminary Project Architecture</a></span>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="mapping_suite_cli_toolchain.html">Mapping Suite CLI Toolchain</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="demo_installation.html">Instructions for Software Engineers</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="user_manual.html">User manual</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="system_arhitecture.html">System architecture overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="using_procurement_data.html">Using procurement data</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">XML to RDF Conversion</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="index.html">XML to RDF Conversion</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">XML to RDF Conversion</a></li>
    <li><a href="user_manual.html">User manual</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="6">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">TED-SWS User manual</h1>
<div id="preamble">
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Editors</strong></th>
<th class="tableblock halign-left valign-top">Dragos Paun
&lt;<a href="mailto:dragos.paun@meaningfy.ws"><span class="underline">dragos.paun@meaningfy.ws</span></a>&gt;<br>
Eugeniu Costetchi
&lt;<a href="mailto:eugen@meaningfy.ws"><span class="underline">eugen@meaningfy.ws</span></a>&gt;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Version</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1.0.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Date</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">17/01/2023</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="glossary"><a class="anchor" href="#glossary"></a>Glossary</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Airflow</strong> - an open-source platform for developing, scheduling, and
monitoring batch-oriented pipelines. The web interface helps manage the
state and monitoring of your pipelines.</p>
</div>
<div class="paragraph">
<p><strong>Metabase</strong> - Metabase is the BI tool with the friendly UX and integrated
tooling to let you explore data gathered by running the pipelines
available in Airflow.</p>
</div>
<div class="paragraph">
<p><strong>Cellar</strong> - is the central content and metadata repository of the
Publications Office of the European Union</p>
</div>
<div class="paragraph">
<p><strong>TED-SWS</strong> - is a pipeline system that continuously converts the public
procurement notices (in XML format) available on the TED Website into
RDF format and publishes them into CELLAR</p>
</div>
<div class="paragraph">
<p><strong>DAG</strong> - (Directed Acyclic Graph) is the core concept of Airflow,
collecting Tasks together, organized with dependencies and relationships
to say how they should run. The DAGS are basically the pipelines that
run in this project to get the public procurement notices from XML to
RDF and to be published them into CELLAR.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction"><a class="anchor" href="#_introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Although TED notice data is already available to the general public
through the search API provided by the TED website, the current offering
has many limitations that impede access to and reuse of the data. One
such important impediment is for example the current format of the data.</p>
</div>
<div class="paragraph">
<p>Historical TED data come in various XML formats that evolved together
with the standard TED XML schema. The imminent introduction of eForms
will also introduce further diversity in the XML data formats available
through TED&#8217;s search API. This makes it practically impossible for
reusers to consume and process data that span across several years, as
their information systems must be able to process several different
flavors of the available XML schemas as well as to keep up with the
schema&#8217;s continuous evolution. Their search capabilities are therefore
confined to a very limited set of metadata.</p>
</div>
<div class="paragraph">
<p>The TED Semantic Web Service will remove these barriers by providing one
common format for accessing and reusing all TED data. Coupled with the
eProcurement Ontology, the TED data will also have semantics attached to
them allowing reusers to directly link them with other datasets.
Moreover, reusers will now be able to perform much more elaborate
queries directly on the data source (through the SPARQL endpoint). This
will reduce their need for data warehousing in order to perform complex
queries.</p>
</div>
<div class="paragraph">
<p>These developments, by lowering the barriers, will give rise to a vast
number of new use-cases that will enable stakeholders and end-users to
benefit from increased availability of analytics. The ability to perform
complex queries on public procurement data will be equally open to large
information systems as well as to simple desktop users with a copy of
Excel and an internet connection.</p>
</div>
<div class="paragraph">
<p>To summarize the TED Semantic Web Service (TED SWS) is a pipeline system
that continuously converts the public procurement notices (in XML
format) available on the TED Website into RDF format, publishes them
into CELLAR and makes them available to the public through CELLAR’s
SPARQL endpoint.</p>
</div>
<div class="sect2">
<h3 id="_purpose_of_the_document"><a class="anchor" href="#_purpose_of_the_document"></a>Purpose of the document</h3>
<div class="paragraph">
<p>The purpose of this document is to explain how to use Airflow and
Metabase to control and monitor the TED-SWS system. This document may be
updated by the development team as the system evolves.</p>
</div>
</div>
<div class="sect2">
<h3 id="_intended_audience"><a class="anchor" href="#_intended_audience"></a>Intended audience</h3>
<div class="paragraph">
<p>This document is intended for persons involved in the controlling and
monitoring the services offered by the TED-SWS system</p>
</div>
<div class="sect3">
<h4 id="useful-resources"><a class="anchor" href="#useful-resources"></a>Useful Resources</h4>
<div class="paragraph">
<p><a href="https://www.metabase.com/learn/getting-started/tour-of-metabase"><span class="underline">https://www.metabase.com/learn/getting-started/tour-of-metabase</span></a></p>
</div>
<div class="paragraph">
<p><a href="https://www.metabase.com/docs/latest/exploration-and-organization/start"><span class="underline">https://www.metabase.com/docs/latest/exploration-and-organization/start</span></a></p>
</div>
<div class="paragraph">
<p><a href="https://airflow.apache.org/docs/apache-airflow/2.4.3/ui.html"><span class="underline">https://airflow.apache.org/docs/apache-airflow/2.4.3/ui.html</span></a>
(only UI / Screenshots section)</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_architectural_overview"><a class="anchor" href="#_architectural_overview"></a>Architectural overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section provides a high level overview of the TED-SWS system and
its components. As presented in the image below the system is built by
multitude of services / components grouped together to help to reach the
end goal. The system can be divided into 2 main parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Controlling and monitoring</p>
</li>
<li>
<p>Core functionality (code base / TED SWS pipeline)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each part of the system is formed by a group of components.</p>
</div>
<div class="paragraph">
<p>Controlling and monitoring, controlled by an operation manager, contains
a workflow / pipeline management service (Airflow) and data
visualization service (Metabase). Using this group of services any user
should be able to control execution of the existing pipelines and also
monitor the execution results.</p>
</div>
<div class="paragraph">
<p>The core functionality has many services developed to accommodate the
entire transformation process of a public procurement notice (in XML
format) available on the TED Website into RDF format and to publish it
into CELLAR. Here is a short description of some of the main services:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>fetching service - fetching the notice from TED website</p>
</li>
<li>
<p>indexing service - getting the unique XPATHs in a notice XML</p>
</li>
<li>
<p>metadata normalisation service - extract notice metadata from the XML</p>
</li>
<li>
<p>transformation service - transform the XML to RDF</p>
</li>
<li>
<p>entity resolution and deduplication service - resolve duplicated
entities in the RDF</p>
</li>
<li>
<p>validation service - validation the RDF transformation</p>
</li>
<li>
<p>packaging service - creating the METS package</p>
</li>
<li>
<p>publishing service - sending the METS package to CELLAR</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image59.png" alt="image" width="100%" height="270"></span></p>
</div>
<div class="sect2">
<h3 id="_pipelines_architecture_airflow_dags"><a class="anchor" href="#_pipelines_architecture_airflow_dags"></a>Pipelines architecture ( Airflow DAGs )</h3>
<div class="paragraph">
<p>In this section will see a graphic representation that will show the
flow and dependencies of the available pipelines (DAGs) in Airflow. In
this representation will see the presence of two users AirflowUser and
AirflowScheduler, where the AirflowUser is the user that will enable and
trigger the DAGs and AirflowScheduler is the Airflow component that will
start the DAGs automatically following a schedule.</p>
</div>
<div class="paragraph">
<p>The automatic triggered DAGs controlled by the Airflow Scheduler are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>fetch_notices_by_date</p>
</li>
<li>
<p>daily_check_notices_availibility_in_cellar</p>
</li>
<li>
<p>daily_materialized_views_update</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image63.png" alt="image" width="100%" height="382"></span></p>
</div>
<div class="paragraph">
<p>The DAGs marked with <em>purple</em> (load_mapping_suite_in_database), <em>yellow</em>
(reprocess_unnormalised_notices_from_backlog,reprocess_unpackaged_notices_from_backlog,
reprocess_unpublished_notices_from_backlog,reprocess_untransformed_notices_from_backlog,
reprocess_unvalidated_notices_from_backlog) and <em>green</em>
(fetch_notices_by_date, fetch_notices_by_date_range,
fetch_notices_by_query) will trigger automatically the
<strong>notice_processing_pipeline</strong> marked with <em>blue</em>, and this will take care
of the entire processing steps for a notice. These can be used by a user
by manually triggering these DAGs with or without configuration.</p>
</div>
<div class="paragraph">
<p>The DAGs marked with <em>green</em> (fetch_notices_by_date,
fetch_notices_by_date_range, fetch_notices_by_query) are in charge of
fetching the notices from TED API. The ones marked with <em>yellow</em> (
reprocess_unnormalised_notices_from_backlog,
reprocess_unpackaged_notices_from_backlog,
reprocess_unpublished_notices_from_backlog,
reprocess_untransformed_notices_from_backlog,
reprocess_unvalidated_notices_from_backlog) will handle the reprocessing
of notices from the backlog. The purple marked DAG
(load_mapping_suite_in_database) will handle the loading of mapping
suites in the database that will be used to transform the notices.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image11.png" alt="image" width="100%" height="660"></span></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_notice_statuses"><a class="anchor" href="#_notice_statuses"></a>Notice statuses</h2>
<div class="sectionbody">
<div class="paragraph">
<p>During the transformation process through the TED-SWS system, a notice
will start with a certain status and it will transition to other
statuses when a particular step of the pipeline
(notice_processing_pipeline) offered by the system has completed
successfully or unsuccessfully. This transition is done automatically
and it will change the <em>status</em> property of a notice. The system has the
following statuses:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>RAW</p>
</li>
<li>
<p>INDEXED</p>
</li>
<li>
<p>NORMALISED_METADATA</p>
</li>
<li>
<p>INELIGIBLE_FOR_TRANSFORMATION</p>
</li>
<li>
<p>ELIGIBLE_FOR_TRANSFORMATION</p>
</li>
<li>
<p>PREPROCESSED_FOR_TRANSFORMATION</p>
</li>
<li>
<p>TRANSFORMED</p>
</li>
<li>
<p>DISTILLED</p>
</li>
<li>
<p>VALIDATED</p>
</li>
<li>
<p>INELIGIBLE_FOR_PACKAGING</p>
</li>
<li>
<p>ELIGIBLE_FOR_PACKAGING</p>
</li>
<li>
<p>PACKAGED</p>
</li>
<li>
<p>INELIGIBLE_FOR_PUBLISHING</p>
</li>
<li>
<p>ELIGIBLE_FOR_PUBLISHING</p>
</li>
<li>
<p>PUBLISHED</p>
</li>
<li>
<p>PUBLICLY_UNAVAILABLE</p>
</li>
<li>
<p>PUBLICLY_AVAILABLE</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The transition from one status to another is decided by the system and
can be viewed in the graphic representation below.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image14.png" alt="image" width="100%" height="444"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_notice_structure"><a class="anchor" href="#_notice_structure"></a>Notice structure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section aims at presenting the anatomy of a Notice in the TED-SWS
system and the dependence of structural elements on the phase of the
transformation process. This is useful for the user to understand what
happens behind the scene and what information is available in the
database, to build analytics dashboards.</p>
</div>
<div class="paragraph">
<p>The structure of a notice within the TED-SWS system consists of the
following structural elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Status</p>
</li>
<li>
<p>Metadata</p>
<div class="ulist">
<ul>
<li>
<p>Original Metadata</p>
</li>
<li>
<p>Normalised Metadata</p>
</li>
</ul>
</div>
</li>
<li>
<p>Manifestation</p>
<div class="ulist">
<ul>
<li>
<p>XMLManifestation</p>
</li>
<li>
<p>RDFManifestation</p>
</li>
<li>
<p>METSManifestation</p>
</li>
</ul>
</div>
</li>
<li>
<p>Validation Report</p>
<div class="ulist">
<ul>
<li>
<p>XPATH Coverage Validation</p>
</li>
<li>
<p>SHACL Validation</p>
</li>
<li>
<p>SPARQL Validation</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The diagram below shows the high level structure of the Notice object
and that certain structural parts of a notice within the system are
dependent on its state. This means that as the transformation process
runs through its steps the Notice state changes and new structural parts
are added. For example, for a notice in the NORMALISED status we can
access the Original Metadata, Normalised Metadata and XMLManifestation
fields, for a notice in the TRANSFORMED status we can access in addition
the RDFManifestation field and similarly for the rest of the statuses.</p>
</div>
<div class="paragraph">
<p>The diagram depicts states as swim-lanes while the structural elements
are depicted as ArchiMate Business Objects [cite ArchiMate]. The
relations we use are composition (arrow with diamond ending) and
inheritance (arrow with full triangle ending).</p>
</div>
<div class="paragraph">
<p>As was mentioned above about the states through which a notice can
transition, a certain structural field if it is present at a certain
state, then all the states originating from this state will also have
this field. Not all possible states are depicted. For brevity, we chose
only the most significant ones, which segment the transformation process
into stages.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image94.png" alt="image" width="100%" height="390"></span></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_security_credentials"><a class="anchor" href="#_security_credentials"></a>Security credentials</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The security credentials will be provided by the infrastructure team
that installed the necessary infrastructure for this project. Some credentials are set in the environment file necessary for the
infrastructure installation and others by manually creating a user by
infra team.</p>
</div>
<div class="paragraph">
<p>Bellow are the credentials that should be provided</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 36%;">
<col style="width: 39%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metabase user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metabase user for login. This should be an email address</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This user was manually created by the infrastructure team</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metabase password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The temporary password that was set by the infra
team for the user above</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This user was manually created by the
infrastructure team</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Airflow user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Airflow UI user for login</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the value of
_AIRFLOW_WWW_USER_USERNAME variable from the env file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Airflow password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Airflow UI password for login</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the value of
_AIRFLOW_WWW_USER_PASSWORD variable from the env file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fuseki user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fuseki user for login</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The login should be for admin user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fuseki password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fuseki password for login</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the value of
ADMIN_PASSWORD variable from the env file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mongo-express user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mongo-express user for login</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the value of
ME_CONFIG_BASICAUTH_USERNAME variable from the env file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mongo-express password</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mongo-express password for login</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">This is the
value of ME_CONFIG_BASICAUTH_PASSWORD variable from the env file</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_workflow_management_with_airflow"><a class="anchor" href="#_workflow_management_with_airflow"></a>Workflow management with Airflow</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The management of the workflow is made available through the user
interface of the Airflow system. This section describes the provided
pipelines, and how to operate them in Airflow.</p>
</div>
<div class="sect2">
<h3 id="_airflow_dag_control_board"><a class="anchor" href="#_airflow_dag_control_board"></a>Airflow DAG control board</h3>
<div class="paragraph">
<p>In this section we explain the most important elements to pay attention
to when operating the pipelines.<br>
In software engineering, a pipeline consists of a chain of processing
elements (processes, threads, coroutines, functions, etc.), arranged so
that the output of each element is the input of the next. In our case,
as an example, look at the notice_processing_pipeline, which has this
chain of processes that takes as input a notice from the TED website and
as the final output (if every process from this pipeline runs
successfully) a METS package with a transformed notice in the RDF
format. Between the processes the input will always be a batch of
notices. Batch processing is a method of processing large amounts of
data in a single, pre-defined process. Batch processing is typically
used for tasks that are performed periodically, such as daily, weekly,
or monthly. Each step of the pipeline can have a successful or failure
result, and as such the pipeline can be stopped at any step if something
went wrong with one of its processes. In Airflow terminology a pipeline
will be a DAG. He are the processes that will create our
notice_processing_pipeline DAG:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>notice normalisation</p>
</li>
<li>
<p>notice transformation</p>
</li>
<li>
<p>notice distillation</p>
</li>
<li>
<p>notice validation</p>
</li>
<li>
<p>notice packaging</p>
</li>
<li>
<p>notice publishing</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="_enable_disable_switch"><a class="anchor" href="#_enable_disable_switch"></a>Enable / disable switch</h4>
<div class="paragraph">
<p>In Airflow all the DAGs can be enabled or disabled. If a dag is disabled
that will stop the DAG from running even if that DAG is scheduled.</p>
</div>
<div class="paragraph">
<p>When a dag is enabled the switch button will be blue and grey when it is
disabled.</p>
</div>
<div class="paragraph">
<p>To enable or disable a dag use the following switch button:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image21.png" alt="image" width="100%" height="32"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image69.png" alt="image" width="56" height="55"></span>
disabled position</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image3.png" alt="image" width="52" height="56"></span>
enabled position</p>
</div>
</div>
<div class="sect3">
<h4 id="_dag_runs"><a class="anchor" href="#_dag_runs"></a>DAG Runs</h4>
<div class="paragraph">
<p>A DAG Run is an object representing an instantiation of the DAG in time.
Any time the DAG is executed, a DAG Run is created and all tasks inside
it are executed. The status of the DAG Run depends on the tasks states.
Each DAG Run is run separately from one another, meaning that you can
have many runs of a DAG at the same time.</p>
</div>
<div class="paragraph">
<p>DAG Run Status</p>
</div>
<div class="paragraph">
<p>A DAG Run status is determined when the execution of the DAG is
finished. The execution of the DAG depends on its containing tasks and
their dependencies. The status is assigned to the DAG Run when all of
the tasks are in one of the terminal states (i.e. if there is no
possible transition to another state) like success, failed or skipped.</p>
</div>
<div class="paragraph">
<p>There are two possible terminal states for the DAG Run:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>success if all the pipeline processes are either success or skipped,</p>
</li>
<li>
<p>failed if any of the pipeline processes is either failed or
upstream_failed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the runs column in the Airflow user interface we can see the state of
the DAG run, and this can be one of the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>queued</p>
</li>
<li>
<p>success</p>
</li>
<li>
<p>running</p>
</li>
<li>
<p>failed</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is an example of this different states</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image54.png" alt="image" width="422" height="315"></span></p>
</div>
<div class="paragraph">
<p>The transitions for these states will start from queuing, then will go
to running, and after will either go to success or failure.</p>
</div>
<div class="paragraph">
<p>Clicking on the numbers associated with a particular DAG run state will
show you a list of the DAG runs in that state.</p>
</div>
</div>
<div class="sect3">
<h4 id="_dag_actions"><a class="anchor" href="#_dag_actions"></a>DAG actions</h4>
<div class="paragraph">
<p>In the Airflow user interface we have a run button in the Actions column
that will allow you to trigger a specific DAG with or without specific
configuration. When clicking on the run button a list of options will
appear:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Trigger DAG (triggering DAG without config)</p>
</li>
<li>
<p>Trigger DAG w/ config (triggering DAG with config)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image24.png" alt="image" width="378" height="165"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_dag_run_overview"><a class="anchor" href="#_dag_run_overview"></a>DAG Run overview</h4>
<div class="paragraph">
<p>In the Airflow user interface, when clicking on the DAG name, an
overview of the runs for that DAG will be available. This will include
schema of the processes that are a part of the pipeline, task durations,
code for the DAG, etc. To learn more about Airflow interface please
refer to the Airflow user manual
(<a href="#useful-resources"><span class="underline">Useful Resources</span></a>)</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image74.png" alt="image" width="601" height="281"></span></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_available_pipelines"><a class="anchor" href="#_available_pipelines"></a>Available pipelines</h3>
<div class="paragraph">
<p>In this section we provide a brief inventory of provided pipelines
including their names, a short description and a high level diagram.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>notice_processing_pipeline</strong> - this DAG performs the processing of a
batch of notices, where the stages take place: normalization,
transformation, validation, packaging, publishing. This is scheduled and
automatically started by other DAGs.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image31.png" alt="image" width="100%" height="176"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image25.png" alt="image" width="100%" height="162"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p><strong>load_mapping_suite_in_database</strong> - this DAG performs the loading of a
mapping suite or all mapping suites from a branch on GitHub, with the
mapping suite the test data from it can also be loaded, if the test data
is loaded the notice_processing_pipeline DAG will be triggered.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Config DAG params:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>mapping_suite_package_name: string</p>
</li>
<li>
<p>load_test_data: boolean</p>
</li>
<li>
<p>branch_or_tag_name: string</p>
</li>
<li>
<p>github_repository_url: string</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Default values:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>mapping_suite_package_name = None (it will take all available mapping
suites on that branch or tag)</p>
</li>
<li>
<p>load_test_data = false</p>
</li>
<li>
<p>branch_or_tag_name = "main"</p>
</li>
<li>
<p>github_repository_url= "https://github.com/OP-TED/ted-rdf-mapping.git"</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image96.png" alt="image" width="100%" height="56"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p><strong>fetch_notices_by_query -</strong> this DAG fetches notices from TED by using a
query and, depending on an additional parameter, triggers the
notice_processing_pipeline DAG in full or partial mode (execution of
only one step).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Config DAG params:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>query : string</p>
</li>
<li>
<p>trigger_complete_workflow : boolean</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Default values:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>trigger_complete_workflow = true</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image56.png" alt="image" width="100%" height="92"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p><strong>fetch_notices_by_date -</strong> this DAG fetches notices from TED for a day
and, depending on an additional parameter, triggers the
notice_processing_pipeline DAG in full or partial mode (execution of
only one step).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Config DAG params:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>wild_card : string with date format %Y%m%d*</p>
</li>
<li>
<p>trigger_complete_workflow : boolean</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Default values:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>trigger_complete_workflow = true</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image33.png" alt="image" width="100%" height="100"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p><strong>fetch_notices_by_date_range -</strong> this DAG receives a date range and
triggers the fetch_notices_by_date DAG for each day in the date range.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Config DAG params:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>start_date : string with date format %Y%m%d</p>
</li>
<li>
<p>end_date : string with date format %Y%m%d</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image75.png" alt="image" width="601" height="128"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p><strong>reprocess_unnormalised_notices_from_backlog -</strong> this DAG selects all
notices that are in RAW state and need to be processed and triggers the
notice_processing_pipeline DAG to process them.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Config DAG params:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>start_date : string with date format %Y-%m-%d</p>
</li>
<li>
<p>end_date : string with date format %Y-%m-%d</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Default values:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>start_date = None , because this param is optional</p>
</li>
<li>
<p>end_date = None, because this param is optional</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image60.png" alt="image" width="601" height="78"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p><strong>reprocess_unpackaged_notices_from_backlog -</strong> this DAG selects all
notices to be repackaged and triggers the notice_processing_pipeline DAG
to repackage them.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Config DAG params:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>start_date : string with date format %Y-%m-%d</p>
</li>
<li>
<p>end_date : string with date format %Y-%m-%d</p>
</li>
<li>
<p>form_number : string</p>
</li>
<li>
<p>xsd_version : string</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Default values:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>start_date = None , because this param is optional</p>
</li>
<li>
<p>end_date = None, because this param is optional</p>
</li>
<li>
<p>form_number = None, because this param is optional</p>
</li>
<li>
<p>xsd_version = None, because this param is optional</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image81.png" alt="image" width="100%" height="73"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p><strong>reprocess_unpublished_notices_from_backlog -</strong> this DAG selects all
notices to be republished and triggers the notice_processing_pipeline
DAG to republish them.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Config DAG params:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>start_date : string with date format %Y-%m-%d</p>
</li>
<li>
<p>end_date : string with date format %Y-%m-%d</p>
</li>
<li>
<p>form_number : string</p>
</li>
<li>
<p>xsd_version : string</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Default values:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>start_date = None , because this param is optional</p>
</li>
<li>
<p>end_date = None, because this param is optional</p>
</li>
<li>
<p>form_number = None, because this param is optional</p>
</li>
<li>
<p>xsd_version = None, because this param is optional</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image37.png" alt="image" width="100%" height="70"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p><strong>reprocess_untransformed_notices_from_backlog -</strong> this DAG selects all
notices to be retransformed and triggers the notice_processing_pipeline
DAG to retransform them.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Config DAG params:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>start_date : string with date format %Y-%m-%d</p>
</li>
<li>
<p>end_date : string with date format %Y-%m-%d</p>
</li>
<li>
<p>form_number : string</p>
</li>
<li>
<p>xsd_version : string</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Default values:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>start_date = None , because this param is optional</p>
</li>
<li>
<p>end_date = None, because this param is optional</p>
</li>
<li>
<p>form_number = None, because this param is optional</p>
</li>
<li>
<p>xsd_version = None, because this param is optional</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image102.png" alt="image" width="100%" height="69"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="10">
<li>
<p><strong>reprocess_unvalidated_notices_from_backlog -</strong> this DAG selects all
notices to be revalidated and triggers the notice_processing_pipeline
DAG to revalidate them.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Config DAG params:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>start_date : string with date format %Y-%m-%d</p>
</li>
<li>
<p>end_date : string with date format %Y-%m-%d</p>
</li>
<li>
<p>form_number : string</p>
</li>
<li>
<p>xsd_version : string</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Default values:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>start_date = None , because this param is optional</p>
</li>
<li>
<p>end_date = None, because this param is optional</p>
</li>
<li>
<p>form_number = None, because this param is optional</p>
</li>
<li>
<p>xsd_version = None, because this param is optional</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image102.png" alt="image" width="100%" height="69"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="11">
<li>
<p><strong>daily_materialized_views_update -</strong> this DAG selects all notices to be
revalidated and triggers the notice_processing_pipeline DAG to
revalidate them.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>This DAG has no config or default params.</strong></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image98.png" alt="image" width="100%" height="90"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="12">
<li>
<p><strong>daily_check_notices_availability_in_cellar -</strong> this DAG selects all
notices to be revalidated and triggers the notice_processing_pipeline
DAG to revalidate them.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>This DAG has no config or default params.</strong></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image67.png" alt="image" width="339" height="81"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="_batch_processing"><a class="anchor" href="#_batch_processing"></a>Batch processing</h3>

</div>
<div class="sect2">
<h3 id="_running_pipelines_how_to"><a class="anchor" href="#_running_pipelines_how_to"></a>Running pipelines (How to)</h3>
<div class="paragraph">
<p>This chapter explains the basic utilization of Ted SWS Airflow pipelines
by presenting in the format of answering the questions. Basic
functionality can be used by running DAGs: a core concept of Airflow.
For advanced documentation access:</p>
</div>
<div class="paragraph">
<p><a href="https://airflow.apache.org/docs/apache-airflow/stable/concepts/dags.html"><span class="underline">https://airflow.apache.org/docs/apache-airflow/stable/concepts/DAGs.html</span></a></p>
</div>
<div class="sect3">
<h4 id="_uc1_how_to_load_a_mapping_suite_or_mapping_suites"><a class="anchor" href="#_uc1_how_to_load_a_mapping_suite_or_mapping_suites"></a>UC1: How to load a mapping suite or mapping suites?</h4>
<div class="paragraph">
<p>As a user I want to load one or several mapping suites into the system
so that notices can be transformed and validated with them.</p>
</div>
</div>
<div class="sect3">
<h4 id="_uc1_a_to_load_all_mapping_suites"><a class="anchor" href="#_uc1_a_to_load_all_mapping_suites"></a>UC1.a To load all mapping suites</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run <strong>load_mapping_suite_in_database</strong> DAG:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enable DAG</p>
</li>
<li>
<p>Click Run on Actions column (Play symbol button)</p>
</li>
<li>
<p>Click Trigger DAG</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image84.png" alt="image" width="100%" height="61"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_uc1_b_to_load_specific_mapping_suite"><a class="anchor" href="#_uc1_b_to_load_specific_mapping_suite"></a>UC1.b To load specific mapping suite</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run <strong>load_mapping_suite_in_database</strong> DAG with configurations:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enable DAG</p>
</li>
<li>
<p>Click Run on Actions column (Play symbol button)</p>
</li>
<li>
<p>Click Trigger DAG w/ config.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image36.png" alt="image" width="100%" height="55"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>In the next screen</p>
</li>
</ol>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the configuration JSON text box insert the config:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">{"mapping_suite_package_name": "package_F03"}</code></pre>
</div>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a" start="2">
<li>
<p>Click Trigger button after inserting the configuration</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image27.png" alt="image" width="100%" height="331"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Optional if you want to transform the available test notices that were
used for development of the mapping suite you can add to configuration
the <strong>load_test_data</strong> parameter with the value <strong>true</strong></p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image103.png" alt="image" width="100%" height="459"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_uc2_how_to_fetch_and_process_notices_for_a_day"><a class="anchor" href="#_uc2_how_to_fetch_and_process_notices_for_a_day"></a>UC2: How to fetch and process notices for a day?</h4>
<div class="paragraph">
<p>As a user I want to fetch and process notices from a selected day so
that they get published in Cellar and be available to the public in RDF
format.</p>
</div>
<div class="paragraph">
<p>UC2.a To fetch and transform notices for a day:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Enable <strong>notice_processing_pipeline</strong> DAG</p>
</li>
<li>
<p>Run <strong>fetch_notices_by_date</strong> DAG with configurations:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enable DAG</p>
</li>
<li>
<p>Click Run on Actions column</p>
</li>
<li>
<p>Click Trigger DAG w/ config</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image26.png" alt="image" width="100%" height="217"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>In the next screen</p>
</li>
</ol>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the configuration JSON text box insert the config:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">{"wild_card ": "20220921*"}*</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The value <strong>20220921</strong>* is the date of the day to fetch and transform with
format: yyyymmdd*.</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a" start="2">
<li>
<p>Click Trigger button after inserting the configuration</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image1.png" alt="image" width="100%" height="310"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Optional: It is possible to only fetch notices without transformation.
To do so add <strong>trigger_complete_workflow</strong> configuration parameter and set
its value to “false”.<br></p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">{"wild_card ": "20220921*", "trigger_complete_workflow": false}</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image4.png" alt="image" width="100%" height="358"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_uc3_how_to_fetch_and_process_notices_for_date_range"><a class="anchor" href="#_uc3_how_to_fetch_and_process_notices_for_date_range"></a>UC3: How to fetch and process notices for date range?</h4>
<div class="paragraph">
<p>As a user I want to fetch and process notices published within a dare
range so that they are published in Cellar and available to the public
in RDF format.</p>
</div>
<div class="paragraph">
<p>UC3.a To fetch for multiple days:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Enable <strong>notice_processing_pipeline</strong> DAG</p>
</li>
<li>
<p>Run <strong>fetch_notices_by_date_range</strong> DAG with configurations:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enable DAG</p>
</li>
<li>
<p>Click Run on Actions column</p>
</li>
<li>
<p>Click Trigger DAG w/ config.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image79.png" alt="image" width="100%" height="205"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>In the next screen, in the configuration JSON text box insert the
config:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">{ "start_date": "20220920", "end_date": "20220920" }</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>20220920 is the start date and 20220920 is the end date of the days to
be fetched and transformed with format: yyyymmdd.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Click Trigger button after inserting the configuration</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image51.png" alt="image" width="100%" height="331"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_uc4_how_to_fetch_and_process_notices_using_a_query"><a class="anchor" href="#_uc4_how_to_fetch_and_process_notices_using_a_query"></a>UC4: How to fetch and process notices using a query?</h4>
<div class="paragraph">
<p>As a user I want to fetch and process notices published by specific
filters that are available from the TED API so that they are published
in Cellar and available to the public in RDF format.</p>
</div>
<div class="paragraph">
<p>To fetch and transform notices by using a query follow the instructions
below:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Enable <strong>notice_processing_pipeline</strong> DAG</p>
</li>
<li>
<p>Run <strong>fetch_notices_by_query</strong> DAG with configurations:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enable DAG</p>
</li>
<li>
<p>Click Run on Actions column</p>
</li>
<li>
<p>Click Trigger DAG w/ config.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image61.png" alt="image" width="100%" height="200"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>In the next screen</p>
</li>
</ol>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the configuration JSON text box insert the config:</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">{"query": "ND=[163-2021]"}</code></pre>
</div>
</div>
<div class="paragraph">
<p>ND=[163-2021] is the query that will run against the TED API to get
notices that will match that query</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a" start="2">
<li>
<p>Click Trigger button after inserting the configuration</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image93.png" alt="image" width="100%" height="378"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Optional: If you need to only fetch notices without
transformation, add <strong>trigger_complete_workflow</strong> configuration as <strong>false</strong></p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image49.png" alt="image" width="100%" height="357"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_uc5_how_to_deal_with_notices_that_are_in_the_backlog_and_what_to_run"><a class="anchor" href="#_uc5_how_to_deal_with_notices_that_are_in_the_backlog_and_what_to_run"></a>UC5: How to deal with notices that are in the backlog and what to run?</h4>
<div class="paragraph">
<p>As a user I want to reprocess notices that are in the backlog so that
they are published in Cellar and available to the public in RDF format.</p>
</div>
<div class="paragraph">
<p>Notices that have failed running a complete and successful
notice_processing_pipeline run will be added to the backlog by using
different statuses that will be added to these notices. The status of a
notice will be automatically determined by the system. The backlog could
have multiple notices in different statuses.</p>
</div>
<div class="paragraph">
<p>The backlog is divided in five categories as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>notices that couldn’t be normalised</p>
</li>
<li>
<p>notices that couldn’t be transformed</p>
</li>
<li>
<p>notices that couldn’t be validated</p>
</li>
<li>
<p>notices that couldn’t be packaged</p>
</li>
<li>
<p>notices that couldn’t be published</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="_uc5_a_deal_with_notices_that_couldnt_be_normalised"><a class="anchor" href="#_uc5_a_deal_with_notices_that_couldnt_be_normalised"></a>UC5.a Deal with notices that couldn&#8217;t be normalised</h5>
<div class="paragraph">
<p>In the case that the backlog contains notices that couldn’t be
normalised at some point and will want to try to reprocess those notices
just run the <strong>reprocess_unnormalised_notices_from_backlog</strong> DAG following
the instructions below.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Enable the reprocess_unnormalised_notices_from_backlog DAG</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image92.png" alt="image" width="100%" height="44"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Trigger DAG</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image76.png" alt="image" width="100%" height="54"></span></p>
</div>
</div>
<div class="sect4">
<h5 id="_uc5_b_deal_with_notices_that_couldnt_be_transformed"><a class="anchor" href="#_uc5_b_deal_with_notices_that_couldnt_be_transformed"></a>UC5.b: Deal with notices that couldn&#8217;t be transformed</h5>
<div class="paragraph">
<p>In the case that the backlog contains notices that couldn’t be
transformed at some point and will want to try to reprocess those
notices just run the <strong>reprocess_untransformed_notices_from_backlog</strong> DAG
following the instructions below.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Enable the reprocess_untransformed_notices_from_backlog DAG
<span class="image"><img src="_images/user_manual/media/image85.png" alt="image" width="100%" height="36"></span></p>
</li>
</ol>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Trigger DAG</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image77.png" alt="image" width="100%" height="54"></span></p>
</div>
</div>
<div class="sect4">
<h5 id="_uc5_c_deal_with_notices_that_couldnt_be_validated"><a class="anchor" href="#_uc5_c_deal_with_notices_that_couldnt_be_validated"></a>UC5.c: Deal with notices that couldn’t be validated</h5>
<div class="paragraph">
<p>In the case that the backlog contains notices that couldn’t be
normalised at some point and will want to try to reprocess those notices
just run the <strong>reprocess_unvalidated_notices_from_backlog</strong> DAG following
the instructions below.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Enable the reprocess_unvalidated_notices_from_backlog DAG</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image66.png" alt="image" width="100%" height="41"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Trigger DAG</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image52.png" alt="image" width="100%" height="52"></span></p>
</div>
</div>
<div class="sect4">
<h5 id="_uc5_d_deal_with_notices_that_couldnt_be_published"><a class="anchor" href="#_uc5_d_deal_with_notices_that_couldnt_be_published"></a>UC5.d: Deal with notices that couldn&#8217;t be published</h5>
<div class="paragraph">
<p>In the case that the backlog contains notices that couldn’t be
normalised at some point and will want to try to reprocess those notices
just run the <strong>reprocess_unpackaged_notices_from_backlog</strong> DAG following
the instructions below.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Enable the reprocess_unpackaged_notices_from_backlog DAG</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image29.png" alt="image" width="100%" height="36"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Trigger DAG</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image71.png" alt="image" width="100%" height="49"></span></p>
</div>
</div>
<div class="sect4">
<h5 id="_uc5_e_deal_with_notices_that_couldnt_be_published"><a class="anchor" href="#_uc5_e_deal_with_notices_that_couldnt_be_published"></a>UC5.e: Deal with notices that couldn&#8217;t be published</h5>
<div class="paragraph">
<p>In the case that the backlog contains notices that couldn’t be
normalised at some point and will want to try to reprocess those notices
just run the <strong>reprocess_unpublished_notices_from_backlog</strong> DAG following
the instructions below.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Enable the reprocess_unpublished_notices_from_backlog DAG</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image38.png" alt="image" width="100%" height="38"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Trigger DAG</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image19.png" alt="image" width="100%" height="57"></span></p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_scheduled_pipelines"><a class="anchor" href="#_scheduled_pipelines"></a>Scheduled pipelines</h3>
<div class="paragraph">
<p>Scheduled pipelines are DAGs that are set to run periodically at fixed
times, dates, or intervals. The DAG schedule can be read in the column
“Schedule” and if any is set then the value is different from None.
The scheduled execution is indicated as “cron expressions” [cire cron
expressions manual]. A cron expression is a string comprising five or
six fields separated by white space that represents a set of times,
normally as a schedule to execute some routine. In our context examples
of daily executions are provided below.</p>
</div>
<div class="paragraph">
<p><span class="image right"><img src="_images/user_manual/media/image34.png" alt="image" width="83" height="365"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p>None - DAG with no Schedule</p>
</li>
<li>
<p>0 0 * * * - DAG that will run every day at 24:00 UTC</p>
</li>
<li>
<p>0 6 * * * - DAG that will run every day at 06:00 UTC</p>
</li>
<li>
<p>0 1 * * * - DAG that will run every day at 01:00 UTC</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>&#160;</p>
</div>
<div class="paragraph">
<p>&#160;</p>
</div>
<div class="paragraph">
<p>&#160;</p>
</div>
<div class="paragraph">
<p>&#160;</p>
</div>
<div class="paragraph">
<p>&#160;</p>
</div>
</div>
<div class="sect2">
<h3 id="_operational_rules_and_recommendations"><a class="anchor" href="#_operational_rules_and_recommendations"></a>Operational rules and recommendations</h3>
<div class="paragraph">
<p>Note: Every action that was not described in the previous chapters can
lead to unpredictable situations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Do not stop a DAG when it is in running state. Let it finish. In case
you need to disable or stop a DAG, then make sure that in the column
Recent Tasks no numbers in the light green circle are present. Figure
below depicts one such example.
<span class="image"><img src="_images/user_manual/media/image72.png" alt="image" width="601" height="164"></span></p>
</li>
<li>
<p>Do not run reprocess DAGs when notice_processing_pipeline is in running
state. This will produce errors as the reprocessing DAGs are searching
for notices in a specific status available in the database. When the
notice_processing_pipeline is running the notices are transitioning
between different statuses and that will make it possible to get the
same notice to be processed twice in the same time, which will produce
an error. Make sure that in the column Runs for
notice_processing_pipeline you don’t have any numbers in a light green
circle before running any reprocess DAGs.
<span class="image"><img src="_images/user_manual/media/image30.png" alt="image" width="601" height="162"></span></p>
</li>
<li>
<p>Do not manually trigger notice_processing_pipeline as this DAG is
triggered automatically by other DAGs. This will produce an error as
this DAG needs to know what batch of notices it is processing (this is
automatically done by the system). This DAG should only be enabled.
<span class="image"><img src="_images/user_manual/media/image18.png" alt="image" width="602" height="29"></span></p>
</li>
<li>
<p>To start any notice processing and transformation make sure that you
have mapping suites available in the database. You should have at least
one successful run of the <strong>load_mapping_suite_in_database</strong> DAG and check
Metabase to see what mapping suites are available.
<span class="image"><img src="_images/user_manual/media/image32.png" alt="image" width="653" height="30"></span></p>
</li>
<li>
<p>Do not manually trigger scheduled DAGs unless you use a specific
configuration and that DAG supports running with specific configuration.
The scheduled dags should be only enabled.
<span class="image"><img src="_images/user_manual/media/image87.png" alt="image" width="601" height="77"></span></p>
</li>
<li>
<p>It is not recommended to load mapping suites while
notice_processing_pipeline is running. First make sure that there are no
running tasks and then load other mapping suites.
<span class="image"><img src="_images/user_manual/media/image35.png" alt="image" width="601" height="256"></span> &#160;
<span class="image"><img src="_images/user_manual/media/image91.png" alt="image" width="601" height="209"></span></p>
</li>
<li>
<p>It is recommended to start processing / transforming notices for a short
period of time e.g fetch notices for a day, week, month but not year.
The system can handle processing for a longer period but it will take
time and you will not be able to load other mapping suites while
processing is running.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_metabase"><a class="anchor" href="#_metabase"></a>Metabase</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes how to work with Metabase, exploring user
interface, accessing dashboards, creating questions, and adding new data
sources. This description uses examples with real data and data sources
that are used on TED-SWS project. For advanced documentation access
link:</p>
</div>
<div class="paragraph">
<p><a href="https://www.metabase.com/docs/latest/" class="bare">https://www.metabase.com/docs/latest/</a><span class="[.underline"><a href="https://www.metabase.com/docs/latest/" class="bare">https://www.metabase.com/docs/latest/</a></span>]</p>
</div>
<div class="sect2">
<h3 id="_main_concepts_in_metabase"><a class="anchor" href="#_main_concepts_in_metabase"></a>Main concepts in Metabase</h3>
<div class="sect3">
<h4 id="_what_is_a_question"><a class="anchor" href="#_what_is_a_question"></a>What is a question?</h4>
<div class="paragraph">
<p>In Metabase, a question is a query, its results, and its visualization.</p>
</div>
<div class="paragraph">
<p>If you’re trying to figure something out about your data in Metabase,
you’re probably either asking a question or viewing a question that
someone else on your team created. In everyday usage, a question is
pretty much synonymous with a query.</p>
</div>
</div>
<div class="sect3">
<h4 id="_what_is_a_dashboard"><a class="anchor" href="#_what_is_a_dashboard"></a>What is a dashboard?</h4>
<div class="paragraph">
<p>A dashboard is a data visualization tool that holds important charts and
text, collected and arranged on a single screen. Dashboards provide a
high-level, centralized look at KPIs and other business metrics, and can
cover everything from overall business health to the success of a
specific project.</p>
</div>
<div class="paragraph">
<p>The term comes from the automotive dashboard, which like its business
intelligence counterpart provides status updates and warnings about
important functions.</p>
</div>
</div>
<div class="sect3">
<h4 id="_what_is_a_collection"><a class="anchor" href="#_what_is_a_collection"></a>What is a collection?</h4>
<div class="paragraph">
<p>In Metabase, a collection is a set of items like questions, dashboards
and subcollections, that are stored together for some organizational
purpose. You can think of collections like folders within a file system.
The root collection in Metabase is called Our Analytics, and it holds
every other collection that you and others at your organization create.</p>
</div>
<div class="paragraph">
<p>You may keep a collection titled “Operations” that holds all of the
questions, dashboards, and models that your organization’s ops team
uses, so people in that department know where to find the items they
need to do their jobs. And if there are specific items within a
collection that your team uses most frequently, you can pin those to the
top of the collection page for easy reference. Pinned questions in a
collection will also render a preview of their visualization.</p>
</div>
</div>
<div class="sect3">
<h4 id="_what_is_a_card"><a class="anchor" href="#_what_is_a_card"></a>What is a card?</h4>
<div class="paragraph">
<p>A card is a component of a dashboard that displays data or text.</p>
</div>
<div class="paragraph">
<p>Metabase dashboards are made up of cards, with each card displaying some
data (visualized as a table, chart, map, or number) or text (like
headings, descriptive information, or relevant links).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_user_interface"><a class="anchor" href="#_user_interface"></a>User interface</h3>
<div class="paragraph">
<p>After successful authorization, metabase redirects to main page that is
composed of the following elements:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image22.png" alt="image" width="633" height="294"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Slidebar with collections</p>
</li>
<li>
<p>Settings, searching and adding new questions</p>
</li>
<li>
<p>Home page (Quick last accessed dashboards or questions)</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_uc1_manually_updating_the_data"><a class="anchor" href="#_uc1_manually_updating_the_data"></a>UC1 Manually updating the data</h4>
<div class="paragraph">
<p>As a user I want to manually update the data so I will see the
questions/dashboards on the latest data.</p>
</div>
<div class="paragraph">
<p>For <strong>updating data</strong>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click Settings &#8594; Admin settings &#8594; Databases</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image99.png" alt="image" width="448" height="373"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Go to Databases in the top menu</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image15.png" alt="image" width="601" height="142"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>To <strong>update</strong> the existing data source, click on the name of the necessary
database and then click on both actions: “Sync database schema now” and
“Re-scan field values now”. This will be done automatically but if you
want to have the latest data (i.e the processing is still running) you
could follow the steps below. However this is not considered a good
practice.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image78.png" alt="image" width="354" height="162"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image86.png" alt="image" width="280" height="244"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_uc2_use_existing_dashboards"><a class="anchor" href="#_uc2_use_existing_dashboards"></a>UC2: Use existing dashboards</h4>
<div class="paragraph">
<p>As a user I want to browse through and view dashboards so that I can
answer business or operational questions about pipelines or notices.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To access existing questions / dashboards, click:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Sidebar button &#8594; Necessary collection folder (ex: TED SWS KPI &#8594;
Pipeline KPI)</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image68.png" alt="image" width="189" height="242"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>To access the dashboard / question click on the element name in the main
screen</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image50.png" alt="image" width="572" height="227"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_uc2_customize_a_collection"><a class="anchor" href="#_uc2_customize_a_collection"></a>UC2: Customize a collection</h4>
<div class="paragraph">
<p>As a user I want to customize my collection preview so I can access
quickly certain dashboards / questions and clean the unwanted content</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>When opening a collection the main screen will be divided into to
sections</p>
</li>
</ol>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Pin section - where dashboards and questions can be pinned for easy
access</p>
</li>
<li>
<p>List with dashboards and questions.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image46.png" alt="image" width="601" height="341"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Drag the dashboard or question elements from list (2) to
section (1) to pin them. The element will be moved to the pin section,
and will be displayed.</p>
</li>
<li>
<p>To <strong>delete / move</strong> a dashboard or question:</p>
</li>
</ol>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click on checkbox of the elements to be deleted;</p>
</li>
<li>
<p>Click archive or move (this can move the content to another collection)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image17.png" alt="image" width="461" height="282"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_uc3_create_new_question"><a class="anchor" href="#_uc3_create_new_question"></a>UC3: Create new question</h4>
<div class="paragraph">
<p>As a user I want to create a new question so I can explore the available
data</p>
</div>
<div class="paragraph">
<p>To <strong>create</strong> question:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click New
(<span class="image"><img src="_images/user_manual/media/image65.png" alt="image" width="45" height="27"></span>),
then Question
(<span class="image"><img src="_images/user_manual/media/image83.png" alt="image" width="71" height="22"></span>).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image100.png" alt="image" width="261" height="194"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Select Data source (TEDSWS MongoDB - database name)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image7.png" alt="image" width="353" height="210"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Select Data collection (Notice Collection Materialized View</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image28.png" alt="image" width="266" height="307"></span></p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> Always select “Notices Collection Materialised View” collection
for questions. This collection was created specifically for metabase.
Using other collections may increase response time of a question.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Select necessary columns to display (ex: Notice status)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image95.png" alt="image" width="397" height="365"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>(Optional) Select filter (ex: Form number is F03)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image40.png" alt="image" width="275" height="304"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image70.png" alt="image" width="353" height="214"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="6">
<li>
<p>(Optional) Select Summarize (ex: Count of rows)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image82.png" alt="image" width="273" height="299"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="7">
<li>
<p>(Optional) Select a column to group by (ex: Notice Status)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image10.png" alt="image" width="389" height="310"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="8">
<li>
<p>Click Visualize
<span class="image"><img src="_images/user_manual/media/image16.png" alt="image" width="143" height="32"></span></p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image9.png" alt="image" width="268" height="180"></span></p>
</div>
<div class="paragraph">
<p><strong>Note:</strong> This loading page means that questing is requesting an answer.
Wait until it disappears.After the request is done, the page with
response and editing a question will appear.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="9">
<li>
<p>Customizing the question</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Question page is divided into:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Edit question (name and logic)</p>
</li>
<li>
<p>Question visualisation (can be table or chart)</p>
</li>
<li>
<p>Visualisation settings (settings for table or chart)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image55.png" alt="image" width="601" height="277"></span></p>
</div>
<div class="paragraph">
<p>Tips on <strong>editing</strong> page:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>To <strong>export</strong> the question:</p>
<div class="ulist">
<ul>
<li>
<p>Click on Download full results</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image89.png" alt="image" width="372" height="286"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p>To <strong>edit question</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Click on Show editor</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image43.png" alt="image" width="394" height="182"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p>To <strong>change visualization type</strong></p>
<div class="ulist">
<ul>
<li>
<p>Click on visualization and then on Done once the type was chosen</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image39.png" alt="image" width="392" height="345"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p>To <strong>edit visualization settings</strong></p>
<div class="ulist">
<ul>
<li>
<p>Click on Settings</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image5.png" alt="image" width="303" height="346"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p>To show values on dashboard: Click Show values on data points</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image104.png" alt="image" width="255" height="331"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p>To <strong>save</strong> question just Click Save button</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image48.png" alt="image" width="324" height="198"></span></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Insert question name, description (optional) and collection to save into</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image101.png" alt="image" width="305" height="230"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_uc4_create_dashboard"><a class="anchor" href="#_uc4_create_dashboard"></a>UC4: Create dashboard</h4>
<div class="paragraph">
<p>As a user I want to create a dashboard so I can group a set of questions
that are of interest to me.</p>
</div>
<div class="paragraph">
<p>To <strong>create</strong> dashboard:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Click New &#8594; Dashboard</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image12.png" alt="image" width="548" height="295"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>Insert Name, Description (optional) and collection where to save</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image44.png" alt="image" width="370" height="279"></span></p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>To select subfolder of the collection, click in arrow on collection
field:</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image13.png" alt="image" width="395" height="199"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Click Create</p>
</li>
<li>
<p>To <strong>add</strong> questions on dashboard:</p>
</li>
</ol>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click Add questions</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image42.png" alt="image" width="285" height="158"></span></p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a" start="2">
<li>
<p>Click on the name of necessary question or drag &amp; drop it</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image57.png" alt="image" width="307" height="392"></span></p>
</div>
<div class="paragraph">
<p>In the dashboard you can add multiple questions, resize and move where
it needs to be.</p>
</div>
<div class="olist arabic">
<ol class="arabic" start="5">
<li>
<p>To <strong>save</strong> dashboard:</p>
</li>
</ol>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click Save button in right top corner of the current screen</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image53.png" alt="image" width="171" height="96"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_uc5_create_user"><a class="anchor" href="#_uc5_create_user"></a>UC5: Create user</h4>
<div class="paragraph">
<p>As a user I want to create another user so that I can share the work
with others in my team</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to Admin settings by pressing the setting wheel button in the top
right of the screen and then click Admin settings.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image64.png" alt="image" width="544" height="180"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="2">
<li>
<p>On the next screen go to People in the top menu and click Invite someone
button</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image97.png" alt="image" width="539" height="137"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="3">
<li>
<p>Complete the mandatory fields and put the user in the Administrator if
you want that user to be an admin or in the All Users group</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image73.png" alt="image" width="601" height="345"></span></p>
</div>
<div class="olist arabic">
<ol class="arabic" start="4">
<li>
<p>Once you click on create a temporary password will be created for this
user. Save this password and user details as you will need to share
these with the new user. After this just click Done.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/user_manual/media/image20.png" alt="image" width="601" height="362"></span></p>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<div>
</div>
<script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>
<script async src="../_/js/vendor/highlight.js"></script>
  </body>
</html>
