<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE rdf:RDF [
        <!ENTITY % cellarEntities PUBLIC "-//PO-RESOURCE//ENTITIES CELLAR cdm model 1.0//EN"
                "/home/metaconv/metaconv_components/components/common/data/cellar_uris.ent">
        %cellarEntities;
        ]>
<rdf:RDF xmlns:cdm="http://publications.europa.eu/ontology/cdm#"
         xmlns:dct="http://purl.org/dc/terms/"
         xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">

    <cdm:work rdf:about="{{ work.uri }}">
        <cdm:do_not_index
                rdf:datatype="http://www.w3.org/2001/XMLSchema#boolean">{{ work.do_not_index }}</cdm:do_not_index>
        <cdm:work_date_document
                rdf:datatype="http://www.w3.org/2001/XMLSchema#date">{{ work.work_date_document }}</cdm:work_date_document>
        <cdm:work_created_by_agent rdf:resource="&cellar-authority;corporate-body/PUBL"/>
        <cdm:work_dataset_published_by_agent rdf:resource="&cellar-authority;corporate-body/PUBL"/>
        <cdm:datetime_transmission
                rdf:datatype="http://www.w3.org/2001/XMLSchema#dateTime">{{ work.datetime_transmission }}</cdm:datetime_transmission>
        <cdm:datetime_negotiation rdf:resource="http://publications.europa.eu/ontology/cdm#datetime_transmission"/>

        {# perhaps this could be multiplied per language#}
        <cdm:work_title xml:lang="{{ work.work_title_lang }}">{{ work.work_title }}</cdm:work_title>

        <cdm:work_date_creation
                rdf:datatype="http://www.w3.org/2001/XMLSchema#date">{{ work.work_date_creation }}</cdm:work_date_creation>
        <cdm:work_id>{{ notice.uri }}</cdm:work_id>

        {# How should this be managed? Perhaps this should be the version of the transformation used on this motice #}
        <cdm:work_dataset_version>{{ notice.transformation_version }}</cdm:work_dataset_version>

        {# TODO: request from MDR team to create a new type of data for TED #}
        <cdm:work_dataset_has_type_concept_type_dataset
                rdf:resource="http://publications.europa.eu/resource/authority/dataset-type/TEST_DATA"/>
        <cdm:work_dataset_keyword>eProcurement</cdm:work_dataset_keyword>
        <cdm:work_dataset_keyword>notice</cdm:work_dataset_keyword>
        <cdm:work_dataset_has_frequency_publication_frequency
                rdf:resource="http://publications.europa.eu/resource/authority/frequency/OTHER"/>
    </cdm:work>

    <cdm:expression rdf:about="{{ expression.uri }}">
        <cdm:expression_belongs_to_work rdf:resource="{{ work.uri }}"/>

        {# perhaps this could be multiplied per language#}
        <cdm:expression_title xml:lang="{{ expression.title_lang }}">{{ expression.title }}</cdm:expression_title>
        <cdm:expression_uses_language rdf:resource="&cellar-authority;language/MUL"/>
    </cdm:expression>

    <cdm:manifestation_distribution rdf:about="{{ manifestation.uri }}">
        <cdm:manifestation_manifests_expression rdf:resource="{{ expression.uri }}"/>
        <cdm:manifestation_type rdf:datatype="http://www.w3.org/2001/XMLSchema#string">PROCUREMENT_NOTICE
        </cdm:manifestation_type>
        <cdm:manifestation_date_publication
                rdf:datatype="http://www.w3.org/2001/XMLSchema#date">{{ manifestation.manifestation_date_publication }}
        </cdm:manifestation_date_publication>
        <cdm:manifestation_distribution_has_status_distribution_status
                rdf:resource="http://publications.europa.eu/resource/authority/dataset-status/DEVELOP"/>
        <cdm:manifestation_distribution_has_media_type_concept_media_type
                rdf:resource="http://publications.europa.eu/resource/authority/file-type/RDF"/>
    </cdm:manifestation_distribution>
</rdf:RDF>
